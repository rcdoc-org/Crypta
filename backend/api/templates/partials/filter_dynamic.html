{% load filter_extras %}

<ul class="list-unstyled">
  {% for group in filter_tree %}
    <li class="mb-3">
      <h6 class="mb-1">
        <a class="d-flex justify-content-between align-items-center text-decoration-none text-dark"
           data-bs-toggle="collapse"
           href="#filterGroup{{ group.field }}"
           role="button"
           aria-expanded="true"
           aria-controls="filterGroup{{ group.field }}">
          {{ group.display|capfirst }}
          <i class="fas fa-chevron-down"></i>
        </a>
      </h6>

      <div class="collapse" id="filterGroup{{ group.field }}">
        <ul class="ps-3 mb-0">
          {% for opt in group.options|dictsort:"label" %}
            <li>
              <div class="form-check">
                <input class="form-check-input filter-checkbox"
                       type="checkbox"
                       id="filter_{{ group.field }}_{{ opt.value }}"
                       value="{{ group.field }}:{{ opt.value }}"
                       data-display="{{ group.display|escapejs }}"
                       {% if applied|get_item:group.field and opt.value in applied|get_item:group.field %}checked{% endif %}>
                <label class="form-check-label"
                       for="filter_{{ group.field }}_{{ opt.value }}">
                  {{ opt.label }} <span class="text-muted">({{ opt.count }})</span>
                </label>
              </div>
            </li>
          {% endfor %}
        </ul>
      </div>
    </li>
  {% endfor %}
</ul>
<br>
<div>
  <h6>Baptisms</h6>
  <form>
    <label class="form-range-label" for="baptism1_7">Age 1-7</label>
    <input 
    class="form-range-input" 
    type="range" id="baptism1_7" 
    name="baptism1_7"
    min='0'
    step='5'>
    <label class="form-range-label" for="baptism8_17">Age 8-17</label>
    <input 
    class="form-range-input" 
    type="range" id="baptism8_17" 
    name="baptism8_17"
    min='0'
    step='5'> 
    <label class="form-range-label" for="baptism_18">Age 18+</label>
    <input 
    class="form-range-input" 
    type="range" id="baptism_18" 
    name="baptism_18"
    min='0'
    step='5'>
  </form>
</div>